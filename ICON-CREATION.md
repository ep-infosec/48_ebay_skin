# Icon Creation

Skin uses the SVG tag to deliver all iconography. This guide will help you properly add or modify SVG files for the Skin library.

## Step 1: Set up the icon

First you should use a graphics editor, like Illustrator or Sketch, to export the SVG markup. For our examples we will use Sketch.

-   Open the necessary icon Sketch file
-   Copy the icon layer (right-click > copy ... or [Command ⌘] + [c] on Mac when the layer is highlighted). This should be the 24x24 layer only. It should contain the glyph altogether, with the 24x24 bounding box and the paths.
    > ![copy layer](https://user-images.githubusercontent.com/105656/39767546-43b5c59c-52a4-11e8-8fcd-f8ede4764ef9.png)
-   Open a new file ([Command ⌘] + [n] on a Mac)
-   Paste the icon layer in the new file ([Command ⌘] + v ... or right-click > paste)
-   Reset the icon (X,Y) to (0,0)
    > ![reset coordinates](https://user-images.githubusercontent.com/105656/39767589-5b3ad2ac-52a4-11e8-8bd7-39560f653af4.png)

## Step 2: Import the SVG

-   Run the command `node/scripts importSVG path/to/icon.svg name-of-svg iconfile`.
-   For example: `node/scripts importSVG ~/Downloads/new-icon.svg icon-photo photo` will import the new-icon svg into the `photo.svg` file with an `id="icon-photo"`
    -   Ensure the `fill` is set to the correct color (this is set to black as an example, but could be different based on design)
    -   If there is a `<use>` tag, move necessary attributes to the `<path>` and remove this tag
        -   Specific attributes to look for: `fill` (if it needs to be different), `fill-rule`, etc.
    -   In all cases, remove the `id` from the `<path>`, as it is unnecessary

## Step 3: Run the generate images script

Run `node scripts/generate-images.js gen` to generate the CSS definition for the icon. This will take the width/height from the `viewBox` and create a CSS selector for the given icon.
If the width/height is incorrect from the SVG `viewBox`, you need to manually add the width/height using the icon mixin (See the `Adding CSS manually` section)

-   The documentation will be updated automatically.

## Appendix

## Adding CSS manually

This step is only needed when the CSS generated from the `generate-images` does not align up correctly.

-   Add the icon `id` into the `skip` array in `scripts/image-config.json`
-   Create two new variables in `/src/less/less/ds6/variables.less` for the width and height of your icon
-   Use the width and height values from the SVG width and height, **rounded to the nearest tens decimal place**

```less
@ds6-icon-following-width: 21.5px;
@ds6-icon-following-height: 19.4px;
```

-   Add a mixin for your icon in `/src/less/less/ds6/mixins.less`
-   Add the CSS class and reference the new mixin in `/src/less/icon/ds6/icon.less`

```less
.icon--following {
    .icon-mixin("icon-following", { .icon-following() });
}
```

## Adding a new icon file pack

-   Add a new `.svg` file in `src/svg`. Add the `<?xml>` and `<svg>` tag as in other files in that directory.
-   Add a new section in `docs/_data/icons.yaml`. See `scripts/README.md` for more info on the keys. No need to add list and smallList as those keys are autogenerated.
-   Add a new `.less` file into `src/less/icon`. This should follow the same syntax as the other files in that directory. (importing base icon and the generated icon).
-   Add the icons in the new svg file using `scripts importSVG` command
-   Run `node scripts genSVG`
-   Run `npm run build`
